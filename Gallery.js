// Sample album data - replace with your actual data
const albums = [
    {
        id: 1,
        title: "සුබ විශ්‍රාම දිවියක් ගුරු මෑණියනි..",
        coverImage: "./Gallery/Album 1/AL 1 - Img (3).jpg",
        description: "ඒ.එම්. දයාවතී ගුරුතුමිය, 2014.01.07 දින සිට අප විද්‍යාලයේ දුවා දරුවන්ට සිංහල හා සිංහල සාහිත්‍ය රසාස්වාදය විෂයන්හි ඉගැන්වීම් කටයුතු කර වසර 37 ක සේවා කාලයක් සම්පූර්ණ කරමින් ඇය ඊයේ දින ඉසිඹු ලැබුවාය.",
        held: "2025/08/15",
        images: [
            {
                url: "./Gallery/Album 1/AL 1 - Img (1).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 1/AL 1 - Img (2).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 1/AL 1 - Img (3).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 1/AL 1 - Img (4).jpg",
                caption: ""
            }
        ]
    },
    {
        id: 2,
        title: "සමස්ත ලංකා නර්තන තරගාවලිය 2025 ",
        coverImage: "./Gallery/Album 2/AL 2 - Img(1).jpg",
        description: "කනිෂ්ඨ අංශයේ පහතරට මිශ්‍ර සමූහ නර්තන අංශයෙන්, හොරණ කලාපයේ  පළමු ස්ථානයත්, බස්නාහිර පළාත්  තෙවන ස්ථානයත් අප පාසලේ සිසු සිසුවියන්  ජයග්‍රහණය කර ඇත.",
        held: "2025/07/05",
        images: [
            {
                url: "./Gallery/Album 2/AL 2 - Img(1).jpg",
                caption: ""
            },
        ]
    },
    {
        id: 3,
        title: "සිසු නියමු අභිසෙස් 2025",
        coverImage: "./Gallery/Album 3/AL 3 - Img (14).jpg",
        description: "Traditional dances, musical performances, and cultural exhibitions showcasing our diverse heritage.",
        held : "2025/06/27",
        images: [
            {
                url: "./Gallery/Album 3/AL 3 - Img (1).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (2).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (3).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (4).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (5).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (6).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (7).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (8).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (9).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (10).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (11).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (12).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (13).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (14).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (15).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (16).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (17).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (18).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (19).jpg",
                 caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (20).jpg",
                 caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (21).jpg",
                 caption: ""
            },
            {
                url: "./Gallery/Album 3/AL 3 - Img (22).jpg",
                 caption: ""
            },
        ]
    },
    {
        id: 4,
        title: "ජල පිරිපහදු ඒකකය විවෘත කිරීම",
        coverImage: "./Gallery/Album 4/AL  4 - Img (2).jpg",
        description: "අප පාසලේ ආදි ශිෂ්‍ය Perlo Enviroequip ආයතනයේ අධිපති එච් නිමල් ජයරත්න මහතාගේ පරිත්‍යාගයක් ලෙස පාසලට තාක්ෂණික ජල පවිත්‍රක උපකරණයක් ප්‍රදානය කළ අතර පසුගිය සිකුරාදා (27) වෙනිදා එහි විවෘත කිරීමේ උත්සවය පැවැත්විණි.",
        held: "2025/06/27",
        images: [
            {
                url: "./Gallery/Album 4/AL  4 - Img (1).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 4/AL  4 - Img (2).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 4/AL  4 - Img (3).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 4/AL  4 - Img (4).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 4/AL  4 - Img (5).jpg",
                caption: ""
            },
        ]
    },
    {
        id: 5,
        title: "විද්‍යාලයීය පුස්තකාලයට පොත් පරිත්‍යාගයක්",
        coverImage: "./Gallery/Album 5/AL 5 - Img (2).jpg",
        description: "&quot;We Friends Club&quot; ආයතනය විසින් පසුගිය දා අප විද්‍යාලයීය පුස්තකාලයට පොත් පරිත්‍යාග කරන ලදී.",
        held: "2025/06/07",
        images: [
            {
                url: "./Gallery/Album 5/AL 5 - Img (2).jpg",
                caption: ""
            },
            {
                url: "./Gallery/Album 5/AL 5 - Img (1).jpg",
                caption: ""
            },
        ]
    },
];

// Initialize gallery
function initializeGallery() {
    const galleryGrid = document.getElementById('galleryGrid');

    albums.forEach(album => {
        const albumCard = document.createElement('div');
        albumCard.className = 'album-card';
        albumCard.onclick = () => openAlbum(album);

        albumCard.innerHTML = `
                    <img src="${album.coverImage}" alt="${album.title}" class="album-cover">
                    <div class="album-info">
                        <div class="album-title">${album.title}</div>
                        <div class="album-description">${album.description}</div>
                        <div class="album-btn">See More Photos</div>
                        <div class="album-count">${album.held}</>
                    </div>
            `;

        galleryGrid.appendChild(albumCard);
    });
}

// Open album modal
function openAlbum(album) {
    const modal = document.getElementById('albumModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalDescription = document.getElementById('modalDescription');
    const modalGallery = document.getElementById('modalGallery');

    modalTitle.textContent = album.title;
    modalDescription.textContent = album.description;

    // Clear previous images
    modalGallery.innerHTML = '';

    // Add images to modal
    album.images.forEach(image => {
        const imageContainer = document.createElement('div');
        imageContainer.className = 'modal-image-container';

        imageContainer.innerHTML = `
                    <img src="${image.url}" alt="${image.caption}" class="modal-image" onclick="openLightbox('${image.url}', '${image.caption}')">
                    <div class="image-overlay">
                        <p>${image.caption}</p>
                    </div>
                `;

        modalGallery.appendChild(imageContainer);
    });

    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
}

// Open lightbox for individual image
function openLightbox(imageSrc, caption) {
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');

    lightboxImage.src = imageSrc;
    lightboxImage.alt = caption;
    lightbox.style.display = 'block';
}

// Close modal
function closeModal() {
    const modal = document.getElementById('albumModal');
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Close lightbox
function closeLightbox() {
    const lightbox = document.getElementById('lightbox');
    lightbox.style.display = 'none';
}

// Event listeners
document.addEventListener('DOMContentLoaded', function () {
    initializeGallery();

    // Modal close button
    document.querySelector('.close').onclick = closeModal;

    // Lightbox close button
    document.querySelector('.lightbox-close').onclick = closeLightbox;

    // Close modal/lightbox when clicking outside
    window.onclick = function (event) {
        const modal = document.getElementById('albumModal');
        const lightbox = document.getElementById('lightbox');

        if (event.target === modal) {
            closeModal();
        }
        if (event.target === lightbox) {
            closeLightbox();
        }
    };

    // Keyboard navigation
    document.addEventListener('keydown', function (event) {
        if (event.key === 'Escape') {
            closeModal();
            closeLightbox();
        }
    });
});

// Add smooth scrolling for better UX
document.documentElement.style.scrollBehavior = 'smooth';